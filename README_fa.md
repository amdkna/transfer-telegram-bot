# 001-Telegram-Bot

یک بات تلگرام ساده برای ارسال آگهی‌های پرواز و بار به کانال از طریق مکالمه تعاملی. ساخته‌شده با پایتون، SQLite و کاملاً کانتینری‌شده با داکر.

## 🎯 ویژگی‌ها

* **انتخاب نقش**: مسافر (`مسافر هستم`) یا بار (`بار برای حمل دارم`).
* **ورودی تعاملی**: وارد کردن مبدا، مقصد و توضیحات از طریق پیام‌های کاربر.
* **تقویم اینلاین**: انتخاب تاریخ پرواز با رابط کاربری تقویم.
* **پیش‌نمایش آگهی**: مشاهده فرمت نهایی قبل از تأیید.
* **ذخیره‌سازی پایدار**: آگهی‌ها در SQLite (`ads.db`) ذخیره می‌شوند.
* **ارسال به کانال**: پس از تأیید، آگهی به کانال تلگرام ارسال می‌شود.

## 📁 ساختار پروژه

```
001-telegram-bot/
├── .dockerignore           # فایل‌های نادیده در داکر
├── .env.example            # مثال متغیرهای محیطی (به .env تغییر نام دهید)
├── .gitignore
├── Dockerfile              # تعریف ایمیج داکر
├── docker-compose.yml      # پیکربندی Docker Compose
├── LICENSE
├── README.md               # ← شما اینجا هستید
├── README_fa.md            # نسخه فارسی README
├── ads.db                  # پایگاه داده SQLite (اتوماتیک ایجاد می‌شود)
├── bot.py                  # کد اصلی بات
├── install.bat             # اسکریپت نصب در ویندوز
├── message_template.txt    # قالب پیام نهایی
├── messages.json           # متن پیام‌های بات و ارورها
├── preview_template.txt    # قالب پیش‌نمایش آگهی
├── requirements.txt        # وابستگی‌های پایتون
```

> ❗ `folder_hierarchy.txt` حذف شده و دیگر بخشی از مخزن نیست.

## 🚀 پیش‌نیازها

* **Python 3.8+**
* **Docker & Docker Compose**

## ⚙️ نصب و راه‌اندازی

### 1. کلون مخزن

```bash
git clone https://github.com/your-username/001-telegram-bot.git
cd 001-telegram-bot
```

### 2. پیکربندی

1. تغییر نام فایل متغیرهای محیطی:

   ```bash
   mv .env.example .env
   ```
2. فایل `.env` را باز کرده و موارد زیر را ویرایش کنید:

   ```ini
   BOT_TOKEN=توکن_بات_شما
   CHANNEL_ID=آی‌دی_کانال  # مثل -1001234567890 یا @your_channel
   DB_PATH=ads.db           # مسیر پایگاه داده (پیش‌فرض)
   ```

> ⚠️ فایل `.env` در گیت ردیابی نمی‌شود؛ **توکن‌های واقعی را منتشر نکنید**.

### 3. نصب در ویندوز

فقط کافی است `install.bat` را اجرا کنید تا محیط مجازی ساخته و وابستگی‌ها نصب شوند.

### 4. نصب در لینوکس/اوبونتو

*به‌زودی: `install.sh`*

## 🏃 نحوه اجرا

### اجرای محلی (Python)

```bash
# فعال‌سازی محیط مجازی:
# ویندوز (PowerShell):
.\venv\Scripts\Activate.ps1
# لینوکس/macOS:
source venv/bin/activate

pip install -r requirements.txt
python bot.py
```

### داکر و Docker Compose

```bash
docker-compose up -d --build
```

بات شما استارت می‌شود و با توکن تلگرام متصل می‌شود.

## 🔧 سفارشی‌سازی

* **قالب پیام‌ها**: ویرایش `preview_template.txt` و `message_template.txt`.
* **متن بات**: تغییر `messages.json` برای اصلاح پیام‌ها و ارورها.
* **منطق جدید**: برای تغییر جریان گفتگو یا افزودن ویژگی، با ایمیل زیر در تماس باشید:

## 📬 تماس

**[amdkna@gmail.com](mailto:amdkna@gmail.com)**

## 📄 مجوز

این پروژه تحت مجوز MIT منتشر شده.
